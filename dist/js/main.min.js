const body=document.querySelector("body"),html=document.querySelector("html"),menu=document.querySelectorAll(".header__burger, .header__nav, body"),header=document.querySelector(".header"),imageAspectRatio=document.querySelectorAll(".image-aspect-ratio, figure");function getCoords(e){let t=e.getBoundingClientRect();return{top:t.top+window.scrollY,right:t.right+window.scrollX,bottom:t.bottom+window.scrollY,left:t.left+window.scrollX}}imageAspectRatio.forEach(e=>{const t=e.querySelector("img"),o=getComputedStyle(e);t&&t.getAttribute("width")&&t.getAttribute("height")&&"relative"==o.position&&e.style.setProperty("--padding-aspect-ratio",Number(t.getAttribute("height"))/Number(t.getAttribute("width"))*100+"%")}),body.addEventListener("click",(function(e){function t(t){return e.target.closest(t)}t(".header__burger")&&menu.forEach(e=>{e.classList.toggle("is-mobile-menu-active")});const o=t(".location__map--point");if(o){e.preventDefault();const t=document.querySelector(o.getAttribute("href"));document.querySelectorAll(".location-modal.is-active").forEach(e=>{e.classList.remove("is-active")}),setTimeout(()=>{t.classList.add("is-active")},0)}t(".location-modal")&&!t(".location-modal-close")||document.querySelectorAll(".location-modal.is-active").forEach(e=>{e.classList.remove("is-active")});const i=t(".header__nav--list a, .footer__nav--list a");if(i){const t=i.getAttribute("href");if(-1!=i.getAttribute("href").indexOf("#")){let o;o=document.querySelector("#"+t.split("#").pop()),menu.forEach(e=>{e.classList.remove("is-mobile-menu-active")}),o&&(e.preventDefault(),o.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}))}}let r=t(".scroll-to");if(r){let t;e.preventDefault(),t=document.querySelector(r.getAttribute("href")),menu.forEach(e=>{e.classList.remove("is-mobile-menu-active")}),t?t.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}):body.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"})}}));let windowSize=0;function resize(){html.style.setProperty("--height-header",header.offsetHeight+"px"),html.style.setProperty("--vh",.01*window.innerHeight+"px"),windowSize!=window.innerWidth&&html.style.setProperty("--svh",.01*window.innerHeight+"px"),windowSize=window.innerWidth}resize(),window.addEventListener("resize",resize),setInterval(()=>{windowSize>1200&&document.querySelectorAll(".location-modal.is-active").forEach(e=>{const t=document.querySelector(`.location__map--point[href="#${e.getAttribute("id")}"]`);windowSize<t.getBoundingClientRect().left+e.offsetWidth+150?(e.style.setProperty("--x",t.getBoundingClientRect().left+t.offsetWidth-e.offsetWidth+"px"),getCoords(t).top-getCoords(t.closest("section")).top>300?e.style.setProperty("--y",t.getBoundingClientRect().top-e.offsetHeight/2+"px"):e.style.setProperty("--y",t.getBoundingClientRect().top+t.offsetHeight+"px")):(e.style.setProperty("--x",t.offsetWidth+20+t.getBoundingClientRect().left+"px"),getCoords(t).top-getCoords(t.closest("section")).top>300?e.style.setProperty("--y",t.getBoundingClientRect().top-e.offsetHeight/2+"px"):e.style.setProperty("--y",t.getBoundingClientRect().top+"px"))})},1),document.querySelectorAll(".hero__slider").forEach(e=>{const t=new Splide(e.closest("section").querySelector(".hero__slider-background"),{type:"fade",perPage:1,speed:1e3,easing:"ease",rewind:!0,pagination:!1,arrows:!1}),o=new Splide(e,{type:"fade",perPage:1,speed:1e3,easing:"ease",rewind:!0,pagination:!1,autoplay:!0,pauseOnHover:!1,interval:1e4,breakpoints:{992:{},550:{}}});o.sync(t),t.mount(),o.mount()}),document.querySelectorAll(".services__slider").forEach(e=>{const t=new Splide(e,{perPage:3,rewind:!0,speed:700,easing:"ease-in-out",gap:48,perMove:1,pagination:!1,breakpoints:{1200:{gap:16},992:{perPage:2},768:{perPage:1,speed:300,easing:"ease"}}});e.querySelectorAll(".services__footer .splide__arrow").forEach(e=>{e.addEventListener("click",(function(o){e.classList.contains("splide__arrow--prev")&&t.go("<"),e.classList.contains("splide__arrow--next")&&t.go(">")}))}),t.mount()}),document.querySelectorAll(".works__slider").forEach(e=>{new Splide(e,{autoWidth:!0,mediaQuery:"min",easing:"ease",gap:24,arrows:!1,pagination:!1,breakpoints:{992:{destroy:!0}}}).mount()});